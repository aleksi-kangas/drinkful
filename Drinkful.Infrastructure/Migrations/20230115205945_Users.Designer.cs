// <auto-generated />
using System;
using Drinkful.Infrastructure.Persistence;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;

#nullable disable

namespace Drinkful.Infrastructure.Migrations
{
    [DbContext(typeof(DrinkfulDbContext))]
    [Migration("20230115205945_Users")]
    partial class Users
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "7.0.2")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("Drinkful.Domain.Drink.Drink", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uuid");

                    b.Property<Guid>("AuthorId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("ImageUrl")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("Summary")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<DateTime>("UpdatedAt")
                        .HasColumnType("timestamp with time zone");

                    b.HasKey("Id");

                    b.ToTable("Drinks", (string)null);

                    b.HasData(
                        new
                        {
                            Id = new Guid("6916a283-6a6a-4f61-a7ca-8d9d4330053c"),
                            AuthorId = new Guid("8276556f-de98-47c6-a106-056e86ac7fa1"),
                            CreatedAt = new DateTime(2023, 1, 15, 20, 59, 44, 881, DateTimeKind.Utc).AddTicks(6082),
                            Description = "A cappuccino is an espresso-based coffee drink that originated in Austria and was later popularized in Italy and is prepared with steamed milk foam. Variations of the drink involve the use of cream instead of milk, using non-dairy milk substitutes and flavoring with cinnamon or chocolate powder.",
                            ImageUrl = "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/Cappuccino_at_Sightglass_Coffee.jpg/1024px-Cappuccino_at_Sightglass_Coffee.jpg",
                            Name = "Cappuccino",
                            Summary = "Coffee drink",
                            UpdatedAt = new DateTime(2023, 1, 15, 20, 59, 44, 881, DateTimeKind.Utc).AddTicks(6084)
                        },
                        new
                        {
                            Id = new Guid("c3e050cb-f237-4212-b2a5-be74b85f5b6a"),
                            AuthorId = new Guid("bcc255c0-ea46-4913-8fc5-59d9521e5ba2"),
                            CreatedAt = new DateTime(2023, 1, 15, 20, 59, 44, 881, DateTimeKind.Utc).AddTicks(6105),
                            Description = "A Moscow mule is a cocktail made with vodka, ginger beer and lime juice, garnished with a slice or wedge of lime and a sprig of mint. The drink is a type of buck and is sometimes called a vodka buck. The Moscow mule is popularly served in a copper mug, which takes on the cold temperature of the liquid.",
                            ImageUrl = "https://upload.wikimedia.org/wikipedia/commons/8/89/Cocktail_Moscow_Mule_im_Kupferbecher_mit_Minze.jpg",
                            Name = "Moscow mule",
                            Summary = "Cocktail",
                            UpdatedAt = new DateTime(2023, 1, 15, 20, 59, 44, 881, DateTimeKind.Utc).AddTicks(6105)
                        });
                });

            modelBuilder.Entity("Drinkful.Domain.User.User", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uuid");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(30)
                        .HasColumnType("character varying(30)");

                    b.Property<string>("PasswordHash")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("Username")
                        .IsRequired()
                        .HasMaxLength(30)
                        .HasColumnType("character varying(30)");

                    b.HasKey("Id");

                    b.ToTable("Users", (string)null);

                    b.HasData(
                        new
                        {
                            Id = new Guid("7952a877-84db-48d1-8838-990c7908af6c"),
                            Email = "user@example.com",
                            PasswordHash = "AQAAAAIAAYagAAAAEFHe5GZ+w410L0GxF1QF7MSuZ7jYUWzemupL097swbVDdMfqM//Vu1WOe7QwESL4qw==",
                            Username = "example-user"
                        });
                });

            modelBuilder.Entity("Drinkful.Domain.Drink.Drink", b =>
                {
                    b.OwnsMany("Drinkful.Domain.Drink.Entities.DrinkComment", "Comments", b1 =>
                        {
                            b1.Property<Guid>("Id")
                                .HasColumnType("uuid")
                                .HasColumnName("CommentId");

                            b1.Property<Guid>("DrinkId")
                                .HasColumnType("uuid");

                            b1.Property<Guid>("AuthorId")
                                .HasColumnType("uuid");

                            b1.Property<string>("Content")
                                .IsRequired()
                                .HasMaxLength(256)
                                .HasColumnType("character varying(256)");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("timestamp with time zone");

                            b1.Property<DateTime>("UpdatedAt")
                                .HasColumnType("timestamp with time zone");

                            b1.HasKey("Id", "DrinkId");

                            b1.HasIndex("DrinkId");

                            b1.ToTable("DrinkComments", (string)null);

                            b1.WithOwner()
                                .HasForeignKey("DrinkId");
                        });

                    b.Navigation("Comments");
                });

            modelBuilder.Entity("Drinkful.Domain.User.User", b =>
                {
                    b.OwnsMany("Drinkful.Domain.Drink.ValueObjects.DrinkId", "DrinkIds", b1 =>
                        {
                            b1.Property<int>("Id")
                                .ValueGeneratedOnAdd()
                                .HasColumnType("integer");

                            NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b1.Property<int>("Id"));

                            b1.Property<Guid>("UserId")
                                .HasColumnType("uuid");

                            b1.Property<Guid>("Value")
                                .HasColumnType("uuid")
                                .HasColumnName("DrinkId");

                            b1.HasKey("Id");

                            b1.HasIndex("UserId");

                            b1.ToTable("UserDrinkIds", (string)null);

                            b1.WithOwner()
                                .HasForeignKey("UserId");
                        });

                    b.Navigation("DrinkIds");
                });
#pragma warning restore 612, 618
        }
    }
}
